<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test • Online Test Portal</title>
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .hidden{display:none}
  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a class="logo" href="/index.html">
        <div class="logo-badge">OT</div>
        <span>Online Test Portal</span>
      </a>
      <nav class="nav-links">
        <a href="/index.html">Home</a>
        <a href="#" onclick="alert('A modern, responsive portal to practice tests.');return false;">About</a>
        <a href="/login.html">Login</a>
        <a href="/register.html">Register</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:32px 0">
    <section class="card padded" style="max-width:760px;margin:0 auto">
      <div class="row" style="margin-bottom:12px">
        <div class="label">Progress</div>
        <div class="badge" id="progressText">0%</div>
      </div>
      <div class="progress" aria-label="Quiz progress">
        <div class="progress-bar" id="progressBar" style="width:0%"></div>
      </div>

      <div id="questionWrap" style="margin-top:18px"></div>

      <div class="row" style="margin-top:18px">
        <button class="btn ghost" id="backBtn">Back</button>
        <button class="btn" id="nextBtn">Next Question</button>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">© <span id="year"></span> Online Test Portal</div>
  </footer>

  <script>
    document.getElementById('year').textContent=new Date().getFullYear()
    const questions=[
      {q:'Which HTML tag is used to define an unordered list?',options:['<ol>','<ul>','<li>','<list>'],answer:1},
      {q:'Which CSS property controls the text size?',options:['font-style','text-size','font-size','text-style'],answer:2},
      {q:'Inside which HTML element do we put JavaScript?',options:['<js>','<script>','<javascript>','<code>'],answer:1},
      {q:'Which of the following is a JavaScript framework?',options:['Django','Laravel','React','Rails'],answer:2},
      {q:'Which attribute is used to provide an alternate text for an image?',options:['title','alt','src','href'],answer:1}
    ]
    let step=0
    const answers=new Array(questions.length).fill(null)

    const wrap=document.getElementById('questionWrap')
    const progressBar=document.getElementById('progressBar')
    const progressText=document.getElementById('progressText')
    const backBtn=document.getElementById('backBtn')
    const nextBtn=document.getElementById('nextBtn')

    function render(){
      const q=questions[step]
      const pct=Math.round((step/questions.length)*100)
      progressBar.style.width=pct+'%'
      progressText.textContent=pct+'%'

      wrap.innerHTML=`
        <div class="q-title">Question ${step+1} of ${questions.length}</div>
        <h3 style="margin:6px 0 14px">${q.q}</h3>
        <div class="options">
          ${q.options.map((opt,i)=>`
            <label class="option">
              <input type="radio" name="q${step}" ${answers[step]===i?'checked':''} />
              <span>${opt.replace(/</g,'&lt;').replace(/>/g,'&gt;')}</span>
            </label>
          `).join('')}
        </div>
      `

      wrap.querySelectorAll('input[type="radio"]').forEach((el,i)=>{
        el.addEventListener('change',()=>{answers[step]=i})
      })

      backBtn.disabled=step===0
      nextBtn.textContent= step===questions.length-1 ? 'Finish' : 'Next Question'
    }

    backBtn.addEventListener('click',()=>{ if(step>0){step--; render()} })
    nextBtn.addEventListener('click',()=>{
      if(step<questions.length-1){step++; render()} else {
        const total=questions.length
        const correct=answers.filter((a,i)=>a===questions[i].answer).length
        const wrong=total-correct
        const score=Math.round((correct/total)*100)
        const params=new URLSearchParams({total,correct,wrong,score})
        window.location.href='/result.html?'+params.toString()
      }
    })

    render()
  </script>
</body>
</html>
